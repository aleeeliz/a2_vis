{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "config": {"view": {"stroke": ""}},
  "width": 500,
  "height": 200,
  "data": {
    "url": "https://raw.githubusercontent.com/aleeeliz/a2_vis/refs/heads/main/isotype_protection_methods_data.csv"
  },
  "transform": [
    {
      "calculate": "{'SPF': 'üß¥', 'Hat': 'üëí', 'Shade': '‚õ±Ô∏è', 'Clothing': 'üëï', 'Sunglasses': 'üï∂Ô∏è'}[datum.Protection_method]",
      "as": "emoji"
    },
    {
      "window": [{"op": "rank", "as": "rank"}],
      "groupby": ["Method", "Protection_method"]
    }
  ],
  "mark": {"type": "text", "baseline": "middle"},
  "encoding": {
    "x": {"field": "rank", "type": "ordinal", "axis": null},
    "y": {
      "field": "Protection_method",
      "type": "nominal",
      "sort": null,
      "title": "Protection Method"
    },
    "row": {"field": "Method", "header": {"title": "", "labels": false}},
    "text": {"field": "emoji", "type": "nominal"},
    "size": {"value": 35}
  }
}